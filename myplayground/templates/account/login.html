{% load static %}
{% load widget_tweaks %}
{% load socialaccount %}

<h3 id="login-title"
    class="font-bold text-xl">
    Sign in to your account
</h3>

<form id="login-form"
      class="space pt-6 pb-4"
      hx-post="{% url 'account_login' %}?next={% url 'home' %}"
      hx-target="#modal-content">
    {% csrf_token %}

    {% if form.errors %}
        <div class="flex mb-3">
            <div class="text-error">
                <ul role="list" class="list-disc pl-5 space-y-1">
                    {% for field in form %}
                        {% if field.errors %}
                            {% for error in field.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        {% endif %}
                    {% endfor %}
                    {% if form.non_field_errors %}
                        {% for error in form.non_field_errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    {% endif %}
                </ul>
            </div>
        </div>
    {% endif %}

    {% with WIDGET_ERROR_CLASS='input-error' %}
        {% render_field form.login class+="input input-bordered w-full mb-3" placeholder="Email here" %}
        {% render_field form.password class+="input input-bordered w-full mb-3" placeholder="Password here" %}
    {% endwith %}


    <div class="flex justify-between align-middle mb-5">
        <label id="remember-me-label"
               class="cursor-pointer flex label-text">
            <input id="remember-me-input"
                   class="checkbox me-2"
                   type="checkbox"
                   checked="checked" />
            Remember me
        </label>

        <a id="forgot-password-link"
           hx-get="{% url 'account_reset_password' %}"
           hx-target="#modal-content"
           class="text-sm font-medium text-primary-content hover:underline hover:cursor-pointer">
            Forgot password?
        </a>
    </div>

    <button id="login-button"
            class="btn btn-warning w-full mb-5">
        Login
    </button>

    <p class="text-sm font-light text-primary-600 dark:text-primary-500">
        Donâ€™t have an account yet?
        <a id="sign-up-link"
           hx-get="{% url 'account_signup' %}"
           hx-target="#modal-content"
           class="font-medium text-primary-content hover:underline hover:cursor-pointer">
            Sign up
        </a>
    </p>

    <div class="divider">OR</div>

    {% include 'account/partials/_google_button.html' %}

    {% include 'account/partials/_discord_button.html' %}
</form>
